<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building RESTful APIs with Django</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<main class="grid-container">
    <div class="sidebar">
        <h2>API Guide Contents</h2>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="restful_api_guide.html" class="active">RESTful API Guide</a></li>
                <li><a href="views_guide.html">Creating Views</a></li>
                <li><a href="models_guide.html">Setting Up Models</a></li>
                <li><a href="serializers_guide.html">Understanding Serializers</a></li>
            </ul>
        </nav>
    </div>
    <div class="content">
        <h1>Building RESTful APIs with Django</h1>

        <h2>Initial Setup</h2>
        <p>Before starting, ensure Django is installed. Then, install Django REST Framework:</p>
        <pre><code>pip install django djangorestframework</code></pre>
        <p>Add 'rest_framework' to your INSTALLED_APPS in <code>settings.py</code>:</p>
        <pre><code>INSTALLED_APPS = [
    ...
    'rest_framework',
]</code></pre>

        <h2>Using Function-Based Views (FBV) for APIs</h2>
        <p>Here's how to handle GET and POST requests with FBVs:</p>
        <pre><code>from django.http import JsonResponse
from django.views.decorators.http import require_http_methods
from .models import MyModel

@require_http_methods(["GET", "POST"])
def my_model_list(request):
    if request.method == 'GET':
        data = list(MyModel.objects.values())
        return JsonResponse(data, safe=False)
    elif request.method == 'POST':
        # Logic to create an item
        return JsonResponse({"message": "Item created"}, status=201)</code></pre>
        
        <h2>Transitioning to Django REST Framework</h2>
        <p>DRF simplifies API creation, providing serialization and request handling:</p>

        <h3>GET Request Endpoint with DRF</h3>
        <pre><code>from rest_framework.generics import ListAPIView
from .models import MyModel
from .serializers import MyModelSerializer

class MyModelListView(ListAPIView):
    queryset = MyModel.objects.all()
    serializer_class = MyModelSerializer</code></pre>

        <h3>Comprehensive Endpoint with DRF</h3>
        <pre><code>from rest_framework.generics import RetrieveUpdateDestroyAPIView
from .models import MyModel
from .serializers import MyModelSerializer

class MyModelDetail(RetrieveUpdateDestroyAPIView):
    queryset = MyModel.objects.all()
    serializer_class = MyModelSerializer</code></pre>

        <h2>URL Configuration</h2>
        <p>Add your views to the <code>urls.py</code> of your app:</p>
        <pre><code>from django.urls import path
from . import views

urlpatterns = [
    path('api/my-model/', views.MyModelListView.as_view(), name='my-model-list'),
    path('api/my-model/detail/<int:pk>/', views.MyModelDetail.as_view(), name='my-model-detail'),
    # For FBV
    path('api/fbv/my-model/', views.my_model_list, name='fbv-my-model-list'),
]</code></pre>

        <p>This setup provides a foundation for building APIs with Django, using both function-based views and Django REST Framework's class-based views for more complex applications.</p>
    </div>
</main>
<script src="injectCopyButtons.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
